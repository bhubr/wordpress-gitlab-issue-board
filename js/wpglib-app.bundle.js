webpackJsonp([0],{53:function(e,t,o){angular.module("WordPressGitlabIssueBoard",["ui.router","ngLodash"]).component("board",o(54)).component("tools",o(55)).factory("dataService",o(56)).config(o(57)).run(function(){console.log("running WordPressGitlabIssueBoard app")})},54:function(e,t){function o(e,t,o,n,r){var s=this;s.message="The issue board will appear here!",s.syncProjects=function(){r.syncProjects().then(function(e){console.log("got projects",e),s.projects=e})},s.syncIssues=function(e){r.syncIssues(e).then(function(e){console.log("got issues",e),s.issues=e})}}o.$inject=["$rootScope","$http","$timeout","lodash","dataService"],e.exports={templateUrl:window.templatesRoot+"/board.html",controller:o,bindings:{projects:"="}}},55:function(e,t){function o(e,t,o,n){this.message="The tools will appear here!"}o.$inject=["$rootScope","$http","$timeout","lodash"],e.exports={templateUrl:window.templatesRoot+"/tools.html",controller:o,bindings:{}}},56:function(e,t){function o(e,t,o,n){function r(e,o){return t({method:"POST",url:window.siteRoot+"/wp-json/wp/v2/"+e,data:o,headers:{"X-WP-Nonce":wpApiSettings.nonce}}).then(function(e){return e.data})}function s(e,o){return t({method:"PUT",url:window.siteRoot+"/wp-json/wp/v2/"+e+"/"+o.id,data:o,headers:{"X-WP-Nonce":wpApiSettings.nonce}}).then(function(e){return e.data})}function i(e,o){var n=window.siteRoot+"/wp-json/wp/v2/"+e;return o&&(n+="?"+serialize(o)),console.log("getResources",e,o,n),t.get(n).then(function(e){return e.data})}function c(e,t,n){return n||(t.page=1,n=[]),i(e,t).then(function(r){return n=n.concat(r),console.log("got page",t.page,r.length+" items","CARRY: "+n.length+" items"),r.length<100?o.when(n):(t.page++,console.log("proceed to page",t.page),c(e,t,n))})}function u(){return t({method:"POST",url:window.siteRoot+"/wp-json/wpglib/v1/sync-projects",data:{},headers:{"X-WP-Nonce":wpApiSettings.nonce}}).then(function(e){return e.data})}function a(e){return t({method:"POST",url:window.siteRoot+"/wp-json/wpglib/v1/sync-issues",data:{post_id:e},headers:{"X-WP-Nonce":wpApiSettings.nonce}}).then(function(e){return e.data})}function p(){return c("issue",{per_page:100,orderby:"date",order:"asc"})}function l(){return i("project",{per_page:100})}function d(){return i("issue_cat",{per_page:100})}function g(){return i("issue_label")}return serialize=function(e){var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return t.join("&")},{getProjects:l,syncProjects:u,syncIssues:a,getIssues:p,getIssueCats:d,getIssueLabels:g,getResources:i,createResource:r,updateResource:s}}o.$inject=["$rootScope","$http","$q","lodash"],e.exports=o},57:function(e,t){function o(e,t,o,n){t.otherwise("/"),[{name:"board",url:"/",component:"board",resolve:{projects:["dataService",function(e){return e.getProjects()}]}},{name:"tools",url:"/tools",component:"tools"}].forEach(function(t){e.state(t)})}o.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider"],e.exports=o}},[53]);